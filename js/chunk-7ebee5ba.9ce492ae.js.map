{"version":3,"sources":["webpack:///./node_modules/core-js/library/modules/es6.parse-float.js","webpack:///./node_modules/core-js/library/modules/_parse-float.js","webpack:///./node_modules/core-js/library/fn/get-iterator.js","webpack:///./node_modules/@babel/runtime-corejs2/core-js/parse-float.js","webpack:///./node_modules/@babel/runtime-corejs2/core-js/get-iterator.js","webpack:///./node_modules/core-js/library/fn/parse-float.js","webpack:///./node_modules/core-js/library/modules/core.get-iterator.js","webpack:///./src/pages/home/components/stock/stock.vue?4d54","webpack:///src/pages/home/components/stock/stock.vue","webpack:///./src/pages/home/components/stock/stock.vue?cafc","webpack:///./src/pages/home/components/stock/stock.vue","webpack:///./src/pages/home/components/stock/stock.vue?ad9a"],"names":["$export","__webpack_require__","$parseFloat","G","F","parseFloat","$trim","trim","module","exports","Infinity","str","string","String","result","charAt","anObject","get","getIterator","it","iterFn","TypeError","call","render","_vm","this","_h","$createElement","_c","_self","attrs","bordered","dis-hover","id","staticRenderFns","stockvue_type_script_lang_js_","data","methods","get_stock_data","promise_default","a","resolve","reject","axios_default","api","then","ret","code","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","get_iterator_default","next","done","item","value","date","Date","getTime","open","parse_float_default","close","high","hight","low","err","return","catch","e","draw_pic","ds","data_set","state","start","end","dv","createView","source","transform","type","callback","obj","_date","concat","getFullYear","getMonth","getDate","trend","range","chart","g2_default","Chart","container","forceFit","height","animate","padding","nice","alias","tickCount","tooltip","showTitle","itemTpl","schema","position","color","val","shape","name","mounted","_this","console","log","stock_stockvue_type_script_lang_js_","component","Object","componentNormalizer","__webpack_exports__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_css_loader_index_js_ref_10_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_stock_vue_vue_type_style_index_0_lang_less___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_css_loader_index_js_ref_10_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_stock_vue_vue_type_style_index_0_lang_less___WEBPACK_IMPORTED_MODULE_0___default","n"],"mappings":"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","file":"js/chunk-7ebee5ba.9ce492ae.js","sourcesContent":["var $export = require('./_export');\nvar $parseFloat = require('./_parse-float');\n// 18.2.4 parseFloat(string)\n$export($export.G + $export.F * (parseFloat != $parseFloat), { parseFloat: $parseFloat });\n","var $parseFloat = require('./_global').parseFloat;\nvar $trim = require('./_string-trim').trim;\n\nmodule.exports = 1 / $parseFloat(require('./_string-ws') + '-0') !== -Infinity ? function parseFloat(str) {\n  var string = $trim(String(str), 3);\n  var result = $parseFloat(string);\n  return result === 0 && string.charAt(0) == '-' ? -0 : result;\n} : $parseFloat;\n","require('../modules/web.dom.iterable');\nrequire('../modules/es6.string.iterator');\nmodule.exports = require('../modules/core.get-iterator');\n","module.exports = require(\"core-js/library/fn/parse-float\");","module.exports = require(\"core-js/library/fn/get-iterator\");","require('../modules/es6.parse-float');\nmodule.exports = require('../modules/_core').parseFloat;\n","var anObject = require('./_an-object');\nvar get = require('./core.get-iterator-method');\nmodule.exports = require('./_core').getIterator = function (it) {\n  var iterFn = get(it);\n  if (typeof iterFn != 'function') throw TypeError(it + ' is not iterable!');\n  return anObject(iterFn.call(it));\n};\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('Card',{attrs:{\"bordered\":false,\"dis-hover\":\"\"}},[_c('div',{attrs:{\"id\":\"sample-stock\"}})])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <Card :bordered=\"false\" dis-hover>\r\n    <div id=\"sample-stock\"></div>\r\n  </Card>\r\n</template>\r\n\r\n<script>\r\n  import G2 from '@antv/g2';\r\n  import {DataSet} from \"@antv/data-set\";\r\n  import axios from \"axios\";\r\n  import { stock_url } from \"../../api\";\r\n\r\n  export default {\r\n    data() {\r\n      return {}\r\n    },\r\n    methods: {\r\n      get_stock_data() {\r\n        return new Promise((resolve, reject) => {\r\n          axios.get(stock_url).then(ret => {\r\n            if (ret.data.code == 200) {\r\n              for (let item of ret.data.data) {\r\n                item.date = new Date(item.date).getTime();\r\n                item.open = parseFloat(item.open);\r\n                item.close = parseFloat(item.close);\r\n                item.high = parseFloat(item.hight);\r\n                delete item.hight;\r\n                item.low = parseFloat(item.low);\r\n              }\r\n              resolve(ret.data.data);\r\n            } else {\r\n              reject(false);\r\n            }\r\n          }).catch(e => {\r\n            reject(false);\r\n          });\r\n        });\r\n      },\r\n      draw_pic(data) {\r\n        let ds = new DataSet({\r\n          state: {\r\n            start: 1546272000000,\r\n            end: 1556467200000\r\n          }\r\n        });\r\n        let dv = ds.createView();\r\n        dv.source(data).transform({\r\n          type: \"filter\",\r\n          callback: (obj) => {\r\n            let date = obj.date;\r\n            return date <= ds.state.end && date >= ds.state.start;\r\n          }\r\n        }).transform({\r\n          type: \"map\",\r\n          callback: (obj) => {\r\n            let _date = new Date(obj.date);\r\n            obj.date = `${_date.getFullYear()}-${_date.getMonth() + 1}-${_date.getDate()}`;\r\n            obj.trend = obj.open <= obj.close ? \"上涨\" : \"下跌\";\r\n            obj.range = [obj.open, obj.close, obj.high, obj.low]\r\n            return obj;\r\n          }\r\n        });\r\n        let chart = new G2.Chart({\r\n          container: \"sample-stock\",\r\n          forceFit: true,\r\n          height: 366,\r\n          animate: true,\r\n          padding: [10, 40, 40, 40]\r\n        });\r\n        chart.source(dv, {\r\n          date: {\r\n            type: \"timeCat\",\r\n            nice: false,\r\n            range: [0, 1]\r\n          },\r\n          open: {\r\n            alias: \"开盘价\"\r\n          },\r\n          close: {\r\n            alias: \"收盘价\"\r\n          },\r\n          high: {\r\n            alias: \"最高价\"\r\n          },\r\n          low: {\r\n            alias: \"最低价\"\r\n          },\r\n          range: {\r\n            alias: \"股票价格\",\r\n            tickCount: 5\r\n          }\r\n        });\r\n        chart.tooltip({\r\n          showTitle: false,\r\n          itemTpl: '<li data-index={index}>' + '<span style=\"background-color:{color};\" class=\"g2-tooltip-marker\"></span>' + '{name}{value}</li>'\r\n        })\r\n        chart.schema().position(\"date*range\").color(\"trend\", (val) => {\r\n          if (val == \"上涨\") {\r\n            return \"#f04864\";\r\n          }\r\n          if (val == \"下跌\") {\r\n            return \"#2fc25b\";\r\n          }\r\n        }).shape(\"candle\").tooltip(\"date*open*close*high*low\", (date, open, close, high, low) => {\r\n          return {\r\n            name: date,\r\n            value: '<br><span style=\"padding-left: 16px\">开盘价：' + open + '</span><br/>' + '<span style=\"padding-left: 16px\">收盘价：' + close + '</span><br/>' + '<span style=\"padding-left: 16px\">最高价：' + high + '</span><br/>' + '<span style=\"padding-left: 16px\">最低价：' + low + '</span>'\r\n          };\r\n        });\r\n        chart.render();\r\n      }\r\n    },\r\n    mounted() {\r\n      this.get_stock_data().then(ret => {\r\n        this.draw_pic(ret);\r\n      }).catch(e => {\r\n        console.log(e)\r\n      });\r\n    }\r\n  }\r\n</script>\r\n\r\n<style lang=\"less\">\r\n  #sample-stock {\r\n    width: 100%;\r\n    height: 100%;\r\n  }\r\n</style>\r\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./stock.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./stock.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./stock.vue?vue&type=template&id=016c5b80&\"\nimport script from \"./stock.vue?vue&type=script&lang=js&\"\nexport * from \"./stock.vue?vue&type=script&lang=js&\"\nimport style0 from \"./stock.vue?vue&type=style&index=0&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./stock.vue?vue&type=style&index=0&lang=less&\"; export default mod; export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./stock.vue?vue&type=style&index=0&lang=less&\""],"sourceRoot":""}